/*! For license information please see worker.548083030228f8c416cb.worker.js.LICENSE.txt */
(()=>{var t={72:t=>{var e,n=(e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){(t=t||{})||(t=void 0!==t?t:{});var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);var i,o=[],a="";a=self.location.href,e&&(a=e),a=0!==a.indexOf("blob:")?a.substr(0,a.lastIndexOf("/")+1):"",i=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)};var u,s,c=t.print||console.log.bind(console),l=t.printErr||console.warn.bind(console);for(n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);r=null,t.arguments&&(o=t.arguments),t.thisProgram&&t.thisProgram,t.quit&&t.quit,t.wasmBinary&&(u=t.wasmBinary),t.noExitRuntime&&t.noExitRuntime,"object"!=typeof WebAssembly&&l("no native wasm support detected");var f,h,d,p,y,m,b,g=new WebAssembly.Table({initial:1,maximum:1,element:"anyfunc"}),w=!1;function v(e){f=e,t.HEAP8=h=new Int8Array(e),t.HEAP16=p=new Int16Array(e),t.HEAP32=y=new Int32Array(e),t.HEAPU8=d=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=new Uint32Array(e),t.HEAPF32=m=new Float32Array(e),t.HEAPF64=b=new Float64Array(e)}var _=t.INITIAL_MEMORY||16777216;function R(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var r=n.func;"number"==typeof r?void 0===n.arg?t.dynCall_v(r):t.dynCall_vi(r,n.arg):r(void 0===n.arg?null:n.arg)}else n(t)}}(s=t.wasmMemory?t.wasmMemory:new WebAssembly.Memory({initial:_/65536,maximum:32768}))&&(f=s.buffer),_=f.byteLength,v(f),y[2188]=5251792;var A=[],H=[],M=[],I=[],P=0,S=null,E=null;function W(e){throw t.onAbort&&t.onAbort(e),c(e+=""),l(e),w=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}function x(t){return e=t,n="data:application/octet-stream;base64,",String.prototype.startsWith?e.startsWith(n):0===e.indexOf(n);var e,n}t.preloadedImages={},t.preloadedAudios={};var O,T="TinyH264.wasm";function U(){try{if(u)return new Uint8Array(u);if(i)return i(T);throw"both async and sync fetching of the wasm failed"}catch(t){W(t)}}function D(t){try{return s.grow(t-f.byteLength+65535>>>16),v(s.buffer),1}catch(t){}}x(T)||(O=T,T=t.locateFile?t.locateFile(O,a):a+O),H.push({func:function(){j()}});var F={a:function(t,e,n){d.copyWithin(t,e,e+n)},b:function(t){t>>>=0;var e=d.length,n=2147483648;if(t>n)return!1;for(var r,i=1;i<=4;i*=2){var o=e*(1+.2/i);if(o=Math.min(o,t+100663296),D(Math.min(n,((r=Math.max(16777216,t,o))%65536>0&&(r+=65536-r%65536),r))))return!0}return!1},memory:s,table:g},B=function(){var e={a:F};function n(e,n){var r=e.exports;t.asm=r,function(e){if(P--,t.monitorRunDependencies&&t.monitorRunDependencies(P),0==P&&(null!==S&&(clearInterval(S),S=null),E)){var n=E;E=null,n()}}()}function r(t){n(t.instance)}function i(t){return(u||"function"!=typeof fetch?new Promise((function(t,e){t(U())})):fetch(T,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+T+"'";return t.arrayBuffer()})).catch((function(){return U()}))).then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(t){l("failed to asynchronously prepare wasm: "+t),W(t)}))}if(P++,t.monitorRunDependencies&&t.monitorRunDependencies(P),t.instantiateWasm)try{return t.instantiateWasm(e,n)}catch(t){return l("Module.instantiateWasm callback failed with error: "+t),!1}return function(){if(u||"function"!=typeof WebAssembly.instantiateStreaming||x(T)||"function"!=typeof fetch)return i(r);fetch(T,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(t){l("wasm streaming compile failed: "+t),l("falling back to ArrayBuffer instantiation"),i(r)}))}))}(),{}}();t.asm=B;var L,j=t.___wasm_call_ctors=function(){return(j=t.___wasm_call_ctors=t.asm.c).apply(null,arguments)};function z(e){function n(){L||(L=!0,t.calledRun=!0,w||(R(H),R(M),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)e=t.postRun.shift(),I.unshift(e);var e;R(I)}()))}e=e||o,P>0||(function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)e=t.preRun.shift(),A.unshift(e);var e;R(A)}(),P>0||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),n()}),1)):n()))}if(t._h264bsdInit=function(){return(t._h264bsdInit=t.asm.d).apply(null,arguments)},t._malloc=function(){return(t._malloc=t.asm.e).apply(null,arguments)},t._free=function(){return(t._free=t.asm.f).apply(null,arguments)},t._h264bsdDecode=function(){return(t._h264bsdDecode=t.asm.g).apply(null,arguments)},t._h264bsdShutdown=function(){return(t._h264bsdShutdown=t.asm.h).apply(null,arguments)},t._h264bsdAlloc=function(){return(t._h264bsdAlloc=t.asm.i).apply(null,arguments)},t._h264bsdFree=function(){return(t._h264bsdFree=t.asm.j).apply(null,arguments)},t.asm=B,t.getValue=function(t,e,n){switch("*"===(e=e||"i8").charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":return h[t>>0];case"i16":return p[t>>1];case"i32":case"i64":return y[t>>2];case"float":return m[t>>2];case"double":return b[t>>3];default:W("invalid type for getValue: "+e)}return null},t.then=function(e){if(L)e(t);else{var n=t.onRuntimeInitialized;t.onRuntimeInitialized=function(){n&&n(),e(t)}}return t},E=function t(){L||z(),L||(E=t)},t.run=z,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return z(),t});t.exports=n}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{"use strict";var t=function(){function t(t,e){this.tinyH264Module=t,this.onPictureReady=e,this.pStorage=this.tinyH264Module._h264bsdAlloc(),this.pWidth=this.tinyH264Module._malloc(4),this.pHeight=this.tinyH264Module._malloc(4),this.pPicture=this.tinyH264Module._malloc(4),this._decBuffer=this.tinyH264Module._malloc(1048576),this.tinyH264Module._h264bsdInit(this.pStorage,0)}var e=t.prototype;return e.release=function(){var t=this.pStorage;0!==t&&(this.tinyH264Module._h264bsdShutdown(t),this.tinyH264Module._h264bsdFree(t)),this.tinyH264Module._free(this.pWidth),this.tinyH264Module._free(this.pHeight),this.tinyH264Module._free(this.pPicture),this.pStorage=0,this.pWidth=0,this.pHeight=0},e.decode=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),this.tinyH264Module.HEAPU8.set(e,this._decBuffer),this.tinyH264Module._h264bsdDecode(this.pStorage,this._decBuffer,e.byteLength,this.pPicture,this.pWidth,this.pHeight)===t.PIC_RDY){var n=this.tinyH264Module.getValue(this.pWidth,"i32"),r=this.tinyH264Module.getValue(this.pHeight,"i32"),i=this.tinyH264Module.getValue(this.pPicture,"i8*"),o=new Uint8Array(this.tinyH264Module.HEAPU8.subarray(i,i+n*r*3/2));this.onPictureReady(o,n,r)}},t}();t.RDY=0,t.PIC_RDY=1,t.HDRS_RDY=2,t.ERROR=3,t.PARAM_SET_ERROR=4,t.MEMALLOC_ERROR=5;const e=t;var r,i,o=n(72),a=n.n(o),u={"TinyH264.wasm":n.p+"2525c7493490674c9fcd74725b8cf0b9.asset"},s={};i=a()({locateFile:function(t){return u[t]}}),(r=i,new Promise((function(t){r.calledRun?t():r.onRuntimeInitialized=function(){return t()}}))).then((function(){self.addEventListener("message",(function(t){var n=t.data,r=n.renderStateId;switch(n.type){case"decode":var o=s[r];o||(o=new e(i,(function(t,e,n){postMessage({type:"pictureReady",width:e,height:n,renderStateId:r,data:t.buffer},[t.buffer])})),s[r]=o),o.decode(new Uint8Array(n.data,n.offset,n.length));break;case"release":var a=s[r];a&&(a.release(),delete s[r])}})),self.postMessage({type:"decoderReady"})}))})()})();